Summary Background Diabetes and high body-mass index (BMI) are associated with increased risk of several cancers, and are increasing in prevalence in most countries. We estimated the cancer incidence attributable to diabetes and high BMI as individual risk factors and in combination, by country and sex. Methods We estimated population attributable fractions for 12 cancers by age and sex for 175 countries in 2012. We defined high BMI as a BMI greater than or equal to 25 kg/m2. We used comprehensive prevalence estimates of diabetes and BMI categories in 2002, assuming a 10-year lag between exposure to diabetes or high BMI and incidence of cancer, combined with relative risks from published estimates, to quantify contribution of diabetes and high BMI to site-specific cancers, individually and combined as independent risk factors and in a conservative scenario in which we assumed full overlap of risk of diabetes and high BMI. We then used GLOBOCAN cancer incidence data to estimate the number of cancer cases attributable to the two risk factors. We also estimated the number of cancer cases in 2012 that were attributable to increases in the prevalence of diabetes and high BMI from 1980 to 2002. All analyses were done at individual country level and grouped by region for reporting. Findings We estimated that 5·7% of all incident cancers in 2012 were attributable to the combined effects of diabetes and high BMI as independent risk factors, corresponding to 804 100 new cases. 187 600 (24·5%) of 766 000 cases of liver cancer and 121 700 (38·4%) of 317 000 cases of endometrial cancer were attributable to these risk factors. In the conservative scenario, about 4·5% (629 000 new cases) of all incident cancers assessed were attributable to diabetes and high BMI combined. Individually, high BMI (544 300 cases) was responsible for almost twice as many cancer cases as diabetes (293 300 cases). 25·8% of diabetes-related cancers (equating to 75 600 new cases) and 31·9% of high BMI-related cancers (174 040 new cases) were attributable to increases in the prevalence of these risk factors from 1980 to 2002. Interpretation A substantial number of cancer cases are attributable to diabetes and high BMI. As the prevalence of these cancer risk factors increases, clinical and public health efforts should focus on identifying optimal preventive and screening measures for whole populations and individual patients. Funding NIHR and Wellcome Trust.