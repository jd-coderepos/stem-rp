Summary The Drosophila sex pheromone cVA elicits different behaviors in males and females. First- and second-order olfactory neurons show identical pheromone responses, suggesting that sex genes differentially wire circuits deeper in the brain. Using in vivo whole-cell electrophysiology, we now show that two clusters of third-order olfactory neurons have dimorphic pheromone responses. One cluster responds in females; the other responds in males. These clusters are present in both sexes and share a common input pathway, but sex-specific wiring reroutes pheromone information. Regulating dendritic position, the fruitless transcription factor both connects the male-responsive cluster and disconnects the female-responsive cluster from pheromone input. Selective masculinization of third-order neurons transforms their morphology and pheromone responses, demonstrating that circuits can be functionally rewired by the cell-autonomous action of a switch gene. This bidirectional switch, analogous to an electrical changeover switch, provides a simple circuit logic to activate different behaviors in males and females.