Smoldering combustion is the slow, low-temperature, flameless burning of porous fuels and the most persistent type of combustion. It is the driving phenomenon of wildfires in peatlands, like those causing haze episodes in Southeast Asia and Northeast Europe, but is poorly understood. In this work, we develop a comprehensive 1-D model of a reactive porous media, using the open-source code Gpyro, to investigate smoldering combustion of natural fuels with an emphasis on the roles of the moisture and inert contents. The model solves the species, momentum, and energy conservation equations and includes heterogeneous chemical reactions. A previously developed 5-step reaction scheme for peat, including evaporation of water, is adopted to describe the drying, thermal and oxidative degradation during the smoldering combustion. The model predicts the transient temperature, species, and reaction profiles during ignition, spread, and extinction. The predicted smoldering thresholds related to the critical moisture and inorganic contents for ignition show a good agreement with the experimental results in the literature for a wide range of peat types and organic soils. The influences of the kinetic parameters, physical properties, and ignition protocol are investigated. This is the first time that a physics-based model of smoldering peat fires is developed, thus helping to understand this important natural and widespread phenomenon.