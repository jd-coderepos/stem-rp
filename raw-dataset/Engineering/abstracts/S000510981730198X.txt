Iterative learning control (ILC) is a design technique which can achieve accurate tracking by learning over repeated task attempts. However, long-term stability remains a critical limitation to widespread application, and to-date robustness analysis has overwhelmingly considered structured uncertainties. This paper substantially expands the scope of existing ILC robustness analysis by addressing unstructured uncertainties, a widely used ILC update class, the presence of a feedback controller, and a general task description that incorporates the most recent expansions in the ILC tracking objective. Gap metric based analysis is applied to ILC by reformulating the finite horizon trial-to-trial feedforward dynamics into an equivalent along-the-trial feedback system, as well as deriving relationships to link their respective gap metric values. The results are used to generate a comprehensive design framework for robust control design of the interacting feedback and ILC loops. This is illustrated via application to rehabilitation engineering, an area where they meet an urgent need for high performance in the presence of significant modeling uncertainty.