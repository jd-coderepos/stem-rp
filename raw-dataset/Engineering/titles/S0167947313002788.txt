Computation of marginal likelihoods with data-dependent support for latent variables 