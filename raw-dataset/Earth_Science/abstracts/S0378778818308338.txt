Occupant presence and behaviour in buildings is considered a key element towards building intelligent and pervasive environments. Yet, practical applications of energy intelligent buildings typically suffer from high sensor unreliability. In this work, we propose a layered probabilistic framework for occupancy-based control in intelligent buildings. We adopt a cascade of layers, where each layer addresses different aspects of the occupancy detection problem in a probabilistic manner rather than in a hard rule engine. We show that propagating uncertainty through each layer instead of standard hard decision outcomes improves the overall system performance. This finding suggests that smart building interfaces and communication data formats may need to input and output probabilistic data rather than simple discrete classification outputs. System performance and user comfort were evaluated with real life radar sensor data, based on an algorithm that allows real-time (casual) processing. Energy savings of up to 30% were obtained, compared to baseline measurements, while maintaining user comfort.