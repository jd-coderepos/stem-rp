Demands on peri-urban landscapes are increasing and diversifying. These landscapes typically fulfil different functions, including agriculture, ecosystem services and may also host species and habitats of conservation concern. Designing landscapes that can simultaneously meet multiple competing demands is an important challenge. Addressing this challenge requires methods that can provide a clear understanding of the trade-offs between biodiversity, production and ecosystem services, and that can assist in effectively navigating these through planning. Here, we tested the degree to which landscape optimization algorithms can do so, for an intensively-used area in the Netherlands. We optimized land use/land management to increase fruit yield, endangered species habitat, and landscape aesthetics, while minimizing losses in dairy farming, and assessed the trade-offs among these objectives. We considered the allocation of on-farm measures (organic management and establishment of linear elements), off-farm measures (taking land out of production) and a combination of both. Both agri-environment measures were able to contribute to the objectives but showed strong trade-offs between fruit yield (on-farm: +26.19% vs. off-farm: +1.63%) and species habitat (on-farm: +9.90% vs. off-farm: +45.72%). Using a combination of both on-farm and off-farm measures largely alleviated this trade-off. The spatial allocation of measures in the landscape was important, and priority areas according to our optimization technique differed markedly from those in the existing nature conservation plan, which is primarily focused on species conservation. Our results highlight that the current nature conservation plan can be improved, thereby simultaneously contributing to multiple environmental objectives while incurring a smaller impact on dairy farming. Comparing on-farm and off-farm management practices provides insight in the functional trade-offs associated with each management option and their respective potential to increase multifunctionality. Moreover, the identification of priority locations across all solutions can further integrate landscape optimization approaches into spatial planning and inform policy design and implementation.