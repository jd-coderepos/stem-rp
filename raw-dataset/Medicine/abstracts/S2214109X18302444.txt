Summary Background Childhood visual impairment is a major public health concern that requires effective screening and early intervention. We investigated the effectiveness of Peek school eye health, a smartphone-based sight test and referral system (comprising Peek Acuity test, sight simulation referral cards, and short message service [SMS] reminders), versus standard care (Snellen's Tumbling-E card and written referral). Methods We initially compared the performance of both the Snellen Tumbling-E card and the Peek Acuity test to a standard backlit EDTRS LogMAR visual acuity test chart. We did a cluster randomised controlled trial to compare the Peek school eye health system with standard school screening care, delivered by school teachers. Schools in Trans Nzoia County, Kenya, were eligible if they did not have an active screening programme already in place. Schools were randomly allocated (1:1) to either the Peek school eye health screening and referral programmes (Peek group) or the standard care screening and referral programme (standard group). In both groups, teachers tested vision of children in years 1–8. Pupils with visual impairment (defined as vision less than 6/12 in either eye) were referred to hospital for treatment. Referred children from the standard group received a written hospital referral letter. Participants and their teachers in the Peek group were shown their simulated sight on a smartphone and given a printout of this simulation with the same hospital details as the standard referral letter to present to their parent or guardian. They also received regular SMS reminders to attend the hospital. The primary outcome was the proportion of referred children who reported to hospital within 8 weeks of referral. Primary analysis was by intention to treat, with the intervention effect estimated using odds ratios. This trial is registered with Pan African Clinical Trial Registry, number PACTR201503001049236. Findings Sensitivity was similar for the Peek test and the standard test (77% [95% CI 64·8–86·5] vs 75% [63·1–85·2]). Specificity was lower for the Peek test than the standard test (91% [95% CI 89·3–92·1] vs 97·4% [96·6-98·1]). Trial recruitment occurred between March 2, 2015, and March 13, 2015. Of the 295 eligible public primary schools in Trans Nzoia County, 50 schools were randomly selected and assigned to either the Peek group (n=25) or the standard group (n=25). 10 579 children were assessed for visual impairment in the Peek group and 10 284 children in the standard group. Visual impairment was identified in 531 (5%) of 10 579 children in the Peek group and 366 (4%) of 10 284 children in the standard care group. The proportion of pupils identified as having visual impairment who attended their hospital referral was significantly higher in the Peek group (285 [54%] of 531) than in the standard group (82 [22%] of 366; odds ratio 7·35 [95% CI 3·49–15·47]; p<0·0001). Interpretation The Peek school eye health system increased adherence to hospital referral for visual impairment assessment compared with the standard approach among school children. This indicates the potential of this technology package to improve uptake of services and provide real-time visibility of health service delivery to help target resources. Funding Seeing is Believing, Operation Eyesight Universal, Queen Elizabeth Diamond Jubilee Trust, and Wellcome Trust.