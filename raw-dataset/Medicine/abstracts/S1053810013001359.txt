Sense of agency (SoA) refers to the feeling that we are in control of our own actions and, through them, events in the outside world. SoA depends partly on retrospectively matching outcomes to expectations, and partly on prospective processes occurring prior to action, notably action selection. To assess the relative contribution of these processes, we factorially varied subliminal priming of action selection and expectation of action outcomes. Both factors affected SoA, and there was also a significant interaction. Compatible action primes increased SoA more strongly for unexpected than expected outcomes. Outcome expectation had strong effects on SoA following incompatible action priming, but only weak effects following compatible action priming. Prospective and retrospective SoA may have distinct and complementary functions.