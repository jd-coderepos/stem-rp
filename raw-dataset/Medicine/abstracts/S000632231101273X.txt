Background Catechol-O-methyltransferase (COMT) metabolizes dopamine. The COMT Val158Met polymorphism influences its activity, and multiple neural correlates of this genotype on dopaminergic phenotypes, especially working memory, have been reported. COMT activity can also be regulated pharmacologically by COMT inhibitors. The inverted-U relationship between cortical dopamine signaling and working memory predicts that the effects of COMT inhibition will differ according to COMT genotype. Methods Thirty-four COMT Met158Met (Met-COMT) and 33 COMT Val158Val (Val-COMT) men were given a single 200-mg dose of the brain-penetrant COMT inhibitor tolcapone or placebo in a randomized, double-blind, between-subjects design. They completed the N-back task of working memory and a gambling task. Results In the placebo group, Met-COMT subjects outperformed Val-COMT subjects on the 2- back, and they were more risk averse. Tolcapone had opposite effects in the two genotype groups: it worsened N-back performance in Met-COMT subjects but enhanced it in Val-COMT subjects. Tolcapone made Met-COMT subjects less risk averse but Val-COMT subjects more so. In both tasks, tolcapone reversed the baseline genotype differences. Conclusions Depending on genotype, COMT inhibition can enhance or impair working memory and increase or decrease risky decision making. To our knowledge, the data are the clearest demonstration to date that the direction of effect of a drug can be influenced by a polymorphism in its target gene. The results support the inverted-U model of dopamine function. The findings are of translational relevance, because COMT inhibitors are used in the adjunctive treatment of Parkinson's disease and are under evaluation in schizophrenia and other disorders.