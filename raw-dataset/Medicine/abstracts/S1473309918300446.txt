Summary Background Primaquine and methylene blue are gametocytocidal compounds that could prevent Plasmodium falciparum transmission to mosquitoes. We aimed to assess the efficacy and safety of primaquine and methylene blue in preventing human to mosquito transmission of P falciparum among glucose-6-phosphate dehydrogenase (G6PD)-normal, gametocytaemic male participants. Methods This was a phase 2, single-blind, randomised controlled trial done at the Clinical Research Centre of the Malaria Research and Training Centre (MRTC) of the University of Bamako (Bamako, Mali). We enrolled male participants aged 5–50 years with asymptomatic P falciparum malaria. G6PD-normal participants with gametocytes detected by blood smear were randomised 1:1:1:1 in block sizes of eight, using a sealed-envelope design, to receive either sulfadoxine-pyrimethamine and amodiaquine, sulfadoxine-pyrimethamine and amodiaquine plus a single dose of 0·25 mg/kg primaquine, dihydroartemisinin-piperaquine, or dihydroartemisinin-piperaquine plus 15 mg/kg per day methylene blue for 3 days. Laboratory staff, investigators, and insectary technicians were masked to the treatment group and gametocyte density of study participants. The study pharmacist and treating physician were not masked. Participants could request unmasking. The primary efficacy endpoint, analysed in all infected patients with at least one infectivity measure before and after treatment, was median within-person percentage change in mosquito infectivity 2 and 7 days after treatment, assessed by membrane feeding. This study is registered with ClinicalTrials.gov, number NCT02831023. Findings Between June 27, 2016, and Nov 1, 2016, 80 participants were enrolled and assigned to the sulfadoxine-pyrimethamine and amodiaquine (n=20), sulfadoxine-pyrimethamine and amodiaquine plus primaquine (n=20), dihydroartemisinin-piperaquine (n=20), or dihydroartemisinin-piperaquine plus methylene blue (n=20) groups. Among participants infectious at baseline (54 [68%] of 80), those in the sulfadoxine-pyrimethamine and amodiaquine plus primaquine group (n=19) had a median 100% (IQR 100 to 100) within-person reduction in mosquito infectivity on day 2, a larger reduction than was noted with sulfadoxine-pyrimethamine and amodiaquine alone (n=12; −10·2%, IQR −143·9 to 56·6; p<0·0001). The dihydroartemisinin-piperaquine plus methylene blue (n=11) group had a median 100% (IQR 100 to 100) within-person reduction in mosquito infectivity on day 2, a larger reduction than was noted with dihydroartemisinin-piperaquine alone (n=12; −6·0%, IQR −126·1 to 86·9; p<0·0001). Haemoglobin changes were similar between gametocytocidal arms and their respective controls. After exclusion of blue urine, adverse events were similar across all groups (59 [74%] of 80 participants had 162 adverse events overall, 145 [90%] of which were mild). Interpretation Adding a single dose of 0·25 mg/kg primaquine to sulfadoxine-pyrimethamine and amodiaquine or 3 days of 15 mg/kg per day methylene blue to dihydroartemisinin-piperaquine was highly efficacious for preventing P falciparum transmission. Both primaquine and methylene blue were well tolerated. Funding Bill & Melinda Gates Foundation, European Research Council.