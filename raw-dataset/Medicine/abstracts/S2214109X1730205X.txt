Summary Background In 2010 a new diagnostic test for tuberculosis, Xpert MTB/RIF, received a conditional programmatic recommendation from WHO. Several model-based economic evaluations predicted that Xpert would be cost-effective across sub-Saharan Africa. We investigated the cost-effectiveness of Xpert in the real world during national roll-out in South Africa. Methods For this real-world cost analysis and economic evaluation, we applied extensive primary cost and patient event data from the XTEND study, a pragmatic trial examining Xpert introduction for people investigated for tuberculosis in 40 primary health facilities (20 clusters) in South Africa enrolled between June 8, and Nov 16, 2012, to estimate the costs and cost per disability-adjusted life-year averted of introducing Xpert as the initial diagnostic test for tuberculosis, compared with sputum smear microscopy (the standard of care). Findings The mean total cost per study participant for tuberculosis investigation and treatment was US$312·58 (95% CI 252·46–372·70) in the Xpert group and $298·58 (246·35–350·82) in the microscopy group. The mean health service (provider) cost per study participant was $168·79 (149·16–188·42) for the Xpert group and $160·46 (143·24–177·68) for the microscopy group of the study. Considering uncertainty in both cost and effect using a wide range of willingness to pay thresholds, we found less than 3% probability that Xpert introduction improved the cost-effectiveness of tuberculosis diagnostics. Interpretation After analysing extensive primary data collection during roll-out, we found that Xpert introduction in South Africa was cost-neutral, but found no evidence that Xpert improved the cost-effectiveness of tuberculosis diagnosis. Our study highlights the importance of considering implementation constraints, when predicting and evaluating the cost-effectiveness of new tuberculosis diagnostics in South Africa. Funding Bill & Melinda Gates Foundation.