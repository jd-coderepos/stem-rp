Summary The interrelationships of the flatworms (phylum Platyhelminthes) are poorly resolved despite decades of morphological and molecular phylogenetic studies [1, 2]. The earliest-branching clades (Catenulida, Macrostomorpha, and Polycladida) share spiral cleavage and entolecithal eggs with other lophotrochozoans. Lecithoepitheliata have primitive spiral cleavage but derived ectolecithal eggs. Other orders (Rhabdocoela, Proseriata, Tricladida and relatives, and Bothrioplanida) all have derived ectolecithal eggs but have uncertain affinities to one another. The orders of parasitic Neodermata emerge from an uncertain position from within these ectolecithal classes. To tackle these problems, we have sequenced transcriptomes from 18 flatworms and 5 other metazoan groups. The addition of published data produces an alignment of >107,000 amino acids with less than 28% missing data from 27 flatworm taxa in 11 orders covering all major clades. Our phylogenetic analyses show that Platyhelminthes consist of the two clades Catenulida and Rhabditophora. Within Rhabditophora, we show the earliest-emerging branch is Macrostomorpha, not Polycladida. We show Lecithoepitheliata are not members of Neoophora but are sister group of Polycladida, implying independent origins of the ectolecithal eggs found in Lecithoepitheliata and Neoophora. We resolve Rhabdocoela as the most basally branching euneoophoran taxon. Tricladida, Bothrioplanida, and Neodermata constitute a group that appears to have lost both spiral cleavage and centrosomes. We identify Bothrioplanida as the long-sought closest free-living sister group of the parasitic Neodermata. Among parasitic orders, we show that Cestoda are closer to Trematoda than to Monogenea, rejecting the concept of the Cercomeromorpha. Our results have important implications for understanding the evolution of this major phylum.