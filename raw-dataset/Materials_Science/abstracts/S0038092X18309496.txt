Cities have a significant potential to host residential photovoltaic systems (PV). The direct consumption of PV generated electricity reduces the need for electricity import, while excess PV electricity production can be stored for later usage or can be used directly to charge electric vehicles (EVs). In this way, more energy is locally consumed, greenhouse gas emissions are reduced, and self-sufficiency of cities can be increased. In this paper, we present a spatio-temporal framework to evaluate the electricity demand that can be fulfilled by PV energy. We assess the impact of penetration of EVs and the influence of battery energy storage. We demonstrate the usefulness of this framework for 88 neighbourhoods in the city of Utrecht, the Netherlands. Spatial mapping was used to identify areas with high potential for EVs and storage. Results shows that direct PV self-consumption ratios vary between 34% and 100%. When EVs charging is included in the neighbourhoods, then self-consumption is increased on average by 12%. Battery energy storage increases the self-consumption with an average of 25%. The self-sufficiencies due to direct PV energy consumption are between 6% and 40% in the neighbourhoods. These are decreased by EVs with an average of âˆ’0.6%, and increased by battery energy storage with an average of 14%. Avoided life cycle greenhouse gas emissions over a 30-year period are on average 12 tCO2-eq per address. The large variation in results between neighbourhoods indicates that area dependent investments and supporting policies could improve the PV power integration in cities. Our developed framework can be easily adapted and used for other cities. Moreover, our results are useful for local governments to guide and design effective policies to accelerate the transition to more sustainable cities.