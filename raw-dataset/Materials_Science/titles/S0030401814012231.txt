Adaptive optimisation of a generalised phase contrast beam shaping system 