Theory of Water Desalination by Porous Electrodes with Immobile Chemical Charge 