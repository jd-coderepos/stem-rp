Line operators from M-branes on compact Riemann surfaces 