Measurements of primary and atmospheric cosmic-ray spectra with the BESS-TeV spectrometer 