First order formalism for generalized vortices 