Phase transition for black holes with scalar hair and topological black holes 