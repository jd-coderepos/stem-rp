Restricting UHECRs and cosmogenic neutrinos with Fermi-LAT 