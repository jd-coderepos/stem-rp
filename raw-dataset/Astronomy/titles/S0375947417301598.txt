The STAR beam energy scan phase II physics and upgrades 