Non-Abelian horizontal symmetry and anomalous U(1) symmetry for the supersymmetric flavor problem 