Collisional and thermal dissociation of J/ψ and ϒ states at the LHC 