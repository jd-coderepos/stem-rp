Dispersion relation, black hole thermodynamics and generalization of uncertainty principle 