Isoscalar and isovector giant resonances in a self-consistent phonon coupling approach 