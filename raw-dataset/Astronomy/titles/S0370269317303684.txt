A framework for second-order parton showers 