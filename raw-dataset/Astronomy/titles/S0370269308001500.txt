Interaction between scalar field and ideal fluid with inhomogeneous equation of state 