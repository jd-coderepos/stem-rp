The dark matter relic density has been measured by Planck and its predecessors with an accuracy of about 2%. We present theoretical calculations with the numerical program DM@NLO in next-to-leading order SUSY QCD and beyond, which allow to reach this precision for gaugino and squark (co-)annihilations, and use them to scan the phenomenological MSSM for viable regions, applying also low-energy, electroweak and hadron collider constraints.