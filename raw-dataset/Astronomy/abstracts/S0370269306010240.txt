We present a systematic way to derive the four-dimensional effective theories for warped compactifications with fluxes and branes in the ten-dimensional type IIB supergravity. The ten-dimensional equations of motion are solved using the gradient expansion method and the effective four-dimensional equations of motions are derived by imposing the consistency condition that the total derivative terms with respect to the six-dimensional internal coordinates vanish when integrated over the internal manifold. By solving the effective four-dimensional equations, we can find the gravitational backreaction to the warped geometry due to the dynamics of moduli fields, branes and fluxes.