We propose some arguments supporting an M-theory derivation of the duality recently discovered by Alday, Gaiotto and Tachikawa between two-dimensional conformal field theories and N = 2 superconformal gauge theories in four dimensions. We find that A N âˆ’ 1 Toda field theory is the simplest two-dimensional conformal field theory quantizing the moduli of N M5-branes wrapped on a Riemann surface. This leads us to identify chiral operators of the N = 2 gauge theories with integrated W-algebra currents. As a check of this correspondence we study some relevant OPE's obtaining that Nekrasov's partition function satisfies W-geometry constraints.