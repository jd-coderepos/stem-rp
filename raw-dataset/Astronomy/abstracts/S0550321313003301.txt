The infrared behaviour of quantum field theories confined in bounded domains is strongly dependent on the shape and structure of space boundaries. The most significant physical effect arises in the behaviour of the vacuum energy. The Casimir energy can be attractive or repulsive depending on the nature of the boundary. We calculate the vacuum energy for a massless scalar field confined between two homogeneous parallel plates with the most general type of boundary conditions depending on four parameters. The analysis provides a powerful method to identify which boundary conditions generate attractive or repulsive Casimir forces between the plates. In the interface between both regimes we find a very interesting family of boundary conditions which do not induce any type of Casimir force. We also show that the attractive regime holds far beyond identical boundary conditions for the two plates required by the Kennethâ€“Klich theorem and that the strongest attractive Casimir force appears for periodic boundary conditions whereas the strongest repulsive Casimir force corresponds to anti-periodic boundary conditions. Most of the analysed boundary conditions are new and some of them can be physically implemented with metamaterials.