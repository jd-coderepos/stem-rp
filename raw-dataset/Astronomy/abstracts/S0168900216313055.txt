In this paper we report on simulations and the mechanical design of a high-compression electron gun for an Electron Beam Ion Source (EBIS) dedicated for production of high intensity and high repetition rate pulses of bare carbon ions for injection into linac-based hadron therapy facilities. The gun is presently under construction at CERN to be retrofitted into the TwinEBIS test bench for experimental studies. We describe the design constraints, show results of numeric simulations and report on the mechanical design featuring several novel ideas. The reported design makes use of combined-function units with reduced number of mechanical joints that were carefully controlled and tuned during the manufacturing phase. The simulations addressed a wide range of topics including the influence of thermal effects, focusing optics, symmetry-breaking misalignments and injection into a full 5T field.