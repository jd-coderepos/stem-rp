With the aim of providing a worldsheet description of the refined topological string, we continue the study of a particular class of higher derivative couplings F g , n in the type II string effective action compactified on a Calabiâ€“Yau threefold. We analyse first order differential equations in the anti-holomorphic moduli of the theory, which relate the F g , n to other component couplings. From the point of view of the topological theory, these equations describe the contribution of non-physical states to twisted correlation functions and encode an obstruction for interpreting the F g , n as the free energy of the refined topological string theory. We investigate possibilities of lifting this obstruction by formulating conditions on the moduli dependence under which the differential equations simplify and take the form of generalised holomorphic anomaly equations. We further test this approach against explicit calculations in the dual heterotic theory.