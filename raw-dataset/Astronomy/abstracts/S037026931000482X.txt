Gauged B − L is a popular candidate for the origin of the conservation of R parity, i.e. R = ( − ) 3 B + L + 2 j , in supersymmetry, but it fails to forbid the effective dimension-five terms arising from the superfield combinations Q Q Q L , u c u c d c e c , and u c d c d c N c , which allow the proton to decay. Changing it to B − x i L , where x e + x μ + x τ = 3 (with x i ≠ 1 ) for the three families, would forbid these terms while still serving as a gauge origin of R parity. We show how this is achieved in two minimal models with realistic neutrino mass matrices, and discuss their phenomenological implications.