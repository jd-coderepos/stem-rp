On the basis of horizon thermodynamics we study the thermodynamic stability of black holes constructed in general relativity and Gauss–Bonnet gravity. In the framework of horizon thermodynamics there are only five thermodynamic variables E, P, V, T, S. It is not necessary to consider concrete matter fields, which may contribute to the pressure of black hole thermodynamic system. In non-vacuum cases, we can derive the equation of state, P = P ( V , T ) . According to the requirements of stable equilibrium in conventional thermodynamics, we start from these thermodynamic variables to calculate the heat capacity at constant pressure and Gibbs free energy and analyze the local and global thermodynamic stability of black holes. It is shown that P > 0 is the necessary condition for black holes in general relativity to be thermodynamically stable, however this condition cannot be satisfied by many black holes in general relativity. For black hole in Gauss–Bonnet gravity negative pressure can be feasible, but only local stable black hole exists in this case.