At present, the giant impact (GI) is the most widely accepted model for the origin of the Moon. Most of the numerical simulations of GI have been carried out with the smoothed particle hydrodynamics (SPH) method. Recently, however, it has been pointed out that standard formulation of SPH (SSPH) has difficulties in the treatment of a contact discontinuity such as a core–mantle boundary and a free surface such as a planetary surface. This difficulty comes from the assumption of differentiability of density in SSPH. We have developed an alternative formulation of SPH, density independent SPH (DISPH), which is based on differentiability of pressure instead of density to solve the problem of a contact discontinuity. In this paper, we report the results of the GI simulations with DISPH and compare them with those obtained with SSPH. We found that the disk properties, such as mass and angular momentum produced by DISPH is different from that of SSPH. In general, the disks formed by DISPH are more compact: while formation of a smaller mass moon for low-oblique impacts is expected with DISPH, inhibition of ejection would promote formation of a larger mass moon for high-oblique impacts. Since only the improvement of core–mantle boundary significantly affects the properties of circumplanetary disks generated by GI and DISPH has not been significantly improved from SSPH for a free surface, we should be very careful when some conclusions are drawn from the numerical simulations for GI. And it is necessary to develop the numerical hydrodynamical scheme for GI that can properly treat the free surface as well as the contact discontinuity.