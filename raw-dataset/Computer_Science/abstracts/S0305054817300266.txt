Motivated by a situation faced by infrastructure service providers operating in urban areas with accessibility restrictions, we study the truck and trailer routing problem with time windows (TTRPTW). In this problem the vehicle fleet consists of trucks and trailers which may be decoupled. A set of customers has to be served and some of the customers can only be accessed by the truck without the trailer. This gives rise to the planning of truck-and-trailer routes containing truck-only subroutes, in addition to truck-only routes and truck-and-trailer routes without subroutes. We propose a branch-and-price algorithm for the TTRPTW, using problem specific enhancements in the pricing scheme and alternative lower bound computations. We also tailor an adaptive large neighborhood search algorithm to the TTRPTW in order to obtain good initial columns. When compared to existing metaheuristic algorithms we obtain highly competitive results. Some instances with up to 100 customers are solved to optimality with the proposed branch-and-price algorithm.