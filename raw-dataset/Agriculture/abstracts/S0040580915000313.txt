Motivated by problems in conservation biology we study genetic dynamics in structured populations of diploid organisms (monoecious or dioecious). Our analysis provides an analytical framework that unifies substantial parts of previous work in terms of exact identity by descent (IBD) and identity by state (IBS) recursions. We provide exact conditions under which two structured haploid and diploid populations are equivalent, and some sufficient conditions under which a dioecious diploid population can be treated as a monoecious diploid one. The IBD recursions are used for computing local and metapopulation inbreeding and coancestry effective population sizes and for predictions of several types of fixation indices over different time horizons.