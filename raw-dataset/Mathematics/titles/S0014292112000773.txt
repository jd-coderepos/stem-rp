Market frictions: A unified model of search costs and switching costs 