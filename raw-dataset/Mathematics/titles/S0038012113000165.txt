Impact of treatment heterogeneity on drug resistance and supply chain costs 