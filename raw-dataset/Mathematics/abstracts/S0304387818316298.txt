We investigate the impacts of a widely used sanitation intervention, Community-Led Total Sanitation, which was implemented at scale across rural areas of Indonesia with a randomized controlled trial to evaluate its effectiveness. The program resulted in modest increases in toilet construction, decreased community tolerance of open defecation and reduced roundworm infestations in children. However, there was no impact on anemia, height or weight. We find important heterogeneity along three dimensions: (1) poverty—poorer households are limited in their ability to improve sanitation; (2) implementer identity—scale up involves local governments taking over implementation from World Bank contractors yet no sanitation and health benefits accrue in villages with local government implementation; and (3) initial levels of social capital—villages with high initial social capital built toilets whereas the community-led approach was counterproductive in low social capital villages with fewer toilets being built.