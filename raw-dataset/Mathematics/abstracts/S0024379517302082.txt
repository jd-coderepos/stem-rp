Given a square matrix B over a principal ideal domain D and an ideal J of D, the J-ideal of B consists of the polynomials f ∈ D [ X ] such that all entries of f ( B ) are in J. It has been shown that in order to determine all J-ideals of B it suffices to compute a generating set of the ( p t ) -ideal of B for finitely many prime powers p t . Moreover, it is known that a ( p t ) -ideal is generated by a set of polynomials of the form p t − s ν s for certain s ≤ t where each ν s is a monic polynomial of minimal degree in the ( p s ) -ideal of B. However, except for the case of diagonal matrices, it was not known how to determine these polynomials explicitly. We present an algorithm which allows us to compute the polynomials ν s for general square matrices. Exploiting one of McCoy's theorems we first compute some set of generators of the ( p s ) -ideal of B which then can be used to determine ν s .