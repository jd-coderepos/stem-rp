Typical engineering rough surfaces show only limited resemblance to the artificially constructed rough surfaces that have been the basis of most previous fundamental research on turbulent flow over rough walls. In this article flow past an irregular rough surface is investigated, based on a scan of a rough graphite surface that serves as a typical example for an irregular rough surface found in engineering applications. The scanned map of surface height versus lateral coordinates is filtered in Fourier space to remove features on very small scales and to create a smoothly varying periodic representation of the surface. The surface is used as a no-slip boundary in direct numerical simulations of turbulent channel flow. For the resolution of the irregular boundary an iterative embedded boundary method is employed. The effects of the surface filtering on the turbulent flow are investigated by studying a series of surfaces with decreasing level of filtering. Mean flow, Reynolds stress and dispersive stress profiles show good agreement once a sufficiently large number of Fourier modes are retained. However, significant differences are observed if only the largest surface features are resolved. Strongly filtered surfaces give rise to a higher mean-flow velocity and to a higher variation of the streamwise velocity in the roughness layer compared with weakly filtered surfaces. In contrast, for the weakly filtered surfaces the mean flow is reversed over most of the lower part of the roughness sublayer and higher levels of dispersive shear stress are found.