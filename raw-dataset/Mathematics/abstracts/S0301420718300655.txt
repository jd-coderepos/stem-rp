Environmental responsibility and the sustainable development of mineral resources are a topic of critical importance to the mining industry and at the same time relate to operational and rehabilitation costs to be considered in technical studies. Open pit mining operations impact their local environment in terms of their modification of the landscape and local ecosystems. Many of these impacts are the result of the transportation of large volumes of materials mined and shifted from and to different locations. External stockpiles and waste dumps occupy considerable space as well as involve substantial transportation costs to move materials from open pits to stockpiles and then move them back to the pit for rehabilitation after the end of exploitation. Depending on the shape of the deposit and the intended design of the pit, a desirable option may be to place it directly in the free spaces within the pit, instead of storing all waste and tailings materials in stockpiles and/or waste/tailings dumps. This paper presents a new mathematical formulation integrating to life-of-mine planning and the maximization of net present value, with the related waste and tailings disposal kept within the mined-out parts of a pit, using a stochastic integer program that manages geological uncertainty including metal grades, material types and related chemical compositions. In addition to the traditional variables related to the materials being extracted from the ground in the form of mining blocks, strips of ground following the dip of a pit are considered within the pit as decision variables, and the optimization process aims to optimally define both the sequence of extraction of mining blocks and the reservation of strips needed to store waste materials. An application at an iron ore mine demonstrates the feasibility, applied aspects and advantages of the proposed method.