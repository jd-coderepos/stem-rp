Polymer electrolyte membrane (PEM) fuel cells have higher efficiency and energy density and are capable of rapidly adjusting to power demands. Effective water management is one of the key issues for increasing the efficiency of PEMFC. In the current study, a three-dimensional (3D) lattice Boltzmann model is developed to simulate the water transport and oxygen diffusion in the gas diffusion layer (GDL) of PEM fuel cells with electrochemical reaction on the catalyst layer taken into account. In this paper, we demonstrate that this model is able to predict the liquid and gas flow fields within the 3D GDL structure and how they change with time. With the two-phase flow and electrochemical reaction coupled in the model, concentration of oxygen through the GDL and current density distribution can also be predicted. The model is then used to investigate the effect of microporous layer on the cell performance in 2D to reduce the computational cost. The results clearly show that the liquid water content can be reduced with the existence of microporous layer and thus the current density can be increased.